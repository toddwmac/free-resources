<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Applied AILabs-Whitepapers</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0 auto;padding:1rem;max-width:900px}
    h1{margin-top:0}
    ul{padding-left:1.25rem}
    li{margin:.35rem 0}
    a{color:#0366d6}
    .muted{color:#6a737d;font-size:0.95rem}
    .error{color:#842029;background:#f8d7da;padding:.5rem;border-radius:6px}
  </style>
</head>
<body>
<header>
    <h1 style="text-align:center;">Center For Applied AI & Applied AI Labs</h1>
    <p class="muted" style="text-align:center;">
        AI Colaborative Whitepapers <br>
        <em>Confirm any resources or refferences</em>.
    </p>
</header>



  <main>
    <section id="listing">
      <p class="muted">Loading file listâ€¦</p>
    </section>

    <noscript>
      <p class="error">JavaScript is required to build the file list dynamically. View files on GitHub: <a href="https://github.com/toddwmac/MyPages">https://github.com/toddwmac/MyPages</a></p>
    </noscript>
  </main>

  <script>
    (function(){
      const owner = 'toddwmac';
      const repo = 'MyPages';
      const branch = 'main';
      const listingEl = document.getElementById('listing');

      function setBaseForPages() {
        try {
          if ((location.hostname || '').endsWith('.github.io')) {
            const parts = location.pathname.split('/').filter(Boolean);
            if (parts.length && parts[0]) {
              const repoSegment = parts[0];
              const baseHref = '/' + repoSegment + '/';
              let baseEl = document.querySelector('base');
              if (!baseEl) {
                baseEl = document.createElement('base');
                document.head.insertBefore(baseEl, document.head.firstChild);
              }
              baseEl.setAttribute('href', baseHref);
            }
          }
        } catch (e){}
      }

      function showError(msg){
        listingEl.innerHTML = '<div class="error">' + msg + '</div>';
      }

      async function fetchFiles(){
        const api = `https://api.github.com/repos/${owner}/${repo}/git/trees/${branch}?recursive=1`;
        const resp = await fetch(api, {headers: {'Accept':'application/vnd.github.v3+json'}});
        if(!resp.ok) throw new Error('GitHub API: ' + resp.status + ' ' + resp.statusText);
        const data = await resp.json();
        if(!data.tree) throw new Error('Unexpected response');
        return data.tree.filter(item => item.type === 'blob').map(b=>b.path);
      }

      function renderList(paths){
        const files = paths.filter(p => p !== 'index.html' && p.endsWith('-AppliedAILabs.html')).sort((a,b)=>a.localeCompare(b));
        if(!files.length){
          listingEl.innerHTML = '<p class="muted">No matching files found (looking for files ending with "-AppliedAILabs.html").</p>';
          return;
        }
        const ul = document.createElement('ul');
        files.forEach(path => {
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = encodeURI(path);
          a.textContent = path;
          li.appendChild(a);
          ul.appendChild(li);
        });
        listingEl.innerHTML = '';
        listingEl.appendChild(ul);
      }

      (async function init(){
        setBaseForPages();
        try{
          const paths = await fetchFiles();
          renderList(paths);
        }catch(err){
          console.error(err);
          showError('Could not load file list from GitHub API. View repository on GitHub: <a href="https://github.com/' + owner + '/' + repo + '">https://github.com/' + owner + '/' + repo + '</a>');
        }
      })();
    })();
  </script>
</body>
</html>
